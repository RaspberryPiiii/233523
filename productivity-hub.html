<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productivity Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: 500;
        }

        .tab.active {
            background: white;
            color: #4facfe;
            border-bottom: 3px solid #4facfe;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .content {
            padding: 30px;
            min-height: 500px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Pomodoro Timer Styles */
        .pomodoro {
            text-align: center;
            max-width: 500px;
            margin: 0 auto;
        }

        .timer-display {
            font-size: 4em;
            font-weight: bold;
            color: #333;
            margin: 30px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .task-input {
            margin: 20px 0;
        }

        .task-input input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .task-input input:focus {
            outline: none;
            border-color: #4facfe;
        }

        /* Notes Styles */
        .notes-section {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            height: 500px;
        }

        .notes-sidebar {
            border-right: 1px solid #e9ecef;
            padding-right: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .category-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .notes-list {
            max-height: 350px;
            overflow-y: auto;
        }

        .note-item {
            padding: 15px;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .note-item:hover {
            background: #f8f9fa;
            transform: translateY(-1px);
        }

        .note-item.active {
            background: #e3f2fd;
            border-color: #4facfe;
        }

        .note-editor {
            display: flex;
            flex-direction: column;
        }

        .note-title {
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 18px;
            font-weight: 500;
        }

        .note-content {
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            resize: none;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
        }

        /* Habits Styles */
        .habits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .habit-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .habit-card:hover {
            transform: translateY(-5px);
        }

        .habit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .habit-streak {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        .habit-progress {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .habit-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s ease;
        }

        .add-habit {
            background: white;
            border: 2px dashed #ccc;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-habit:hover {
            border-color: #4facfe;
            background: #f8f9fa;
        }

        /* Decision Maker Styles */
        .decision-maker {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .options-input {
            margin: 20px 0;
        }

        .option-item {
            display: flex;
            margin-bottom: 10px;
        }

        .option-item input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px 0 0 10px;
            font-size: 16px;
        }

        .remove-option {
            padding: 12px 15px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 0 10px 10px 0;
            cursor: pointer;
        }

        .decision-result {
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            font-size: 1.5em;
            font-weight: bold;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
        }

        .close {
            float: right;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Productivity Hub</h1>
            <p>Your all-in-one workspace for focus, notes, habits, and decisions</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('pomodoro')">üçÖ Pomodoro</button>
            <button class="tab" onclick="switchTab('notes')">üìù Notes</button>
            <button class="tab" onclick="switchTab('habits')">üéØ Habits</button>
            <button class="tab" onclick="switchTab('decisions')">üé≤ Decisions</button>
        </div>

        <div class="content">
            <!-- Pomodoro Tab -->
            <div id="pomodoro" class="tab-content active">
                <div class="pomodoro">
                    <h2>Focus Timer</h2>
                    <div class="timer-display" id="timerDisplay">25:00</div>
                    <div class="task-input">
                        <input type="text" id="currentTask" placeholder="What are you working on?" />
                    </div>
                    <div class="timer-controls">
                        <button class="btn btn-primary" onclick="startTimer()">Start</button>
                        <button class="btn btn-secondary" onclick="pauseTimer()">Pause</button>
                        <button class="btn btn-danger" onclick="resetTimer()">Reset</button>
                    </div>
                    <div style="margin-top: 30px;">
                        <button class="btn btn-secondary" onclick="setTimer(25)">Work (25min)</button>
                        <button class="btn btn-secondary" onclick="setTimer(5)">Short Break (5min)</button>
                        <button class="btn btn-secondary" onclick="setTimer(15)">Long Break (15min)</button>
                    </div>
                </div>
            </div>

            <!-- Notes Tab -->
            <div id="notes" class="tab-content">
                <div class="notes-section">
                    <div class="notes-sidebar">
                        <input type="text" class="search-input" placeholder="Search notes..." onkeyup="searchNotes(this.value)">
                        <select class="category-select" onchange="filterByCategory(this.value)">
                            <option value="">All Categories</option>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="ideas">Ideas</option>
                        </select>
                        <button class="btn btn-primary" onclick="createNote()" style="width: 100%; margin-bottom: 20px;">+ New Note</button>
                        <div class="notes-list" id="notesList"></div>
                    </div>
                    <div class="note-editor">
                        <input type="text" class="note-title" id="noteTitle" placeholder="Note title..." onkeyup="saveCurrentNote()">
                        <textarea class="note-content" id="noteContent" placeholder="Start writing..." onkeyup="saveCurrentNote()"></textarea>
                    </div>
                </div>
            </div>

            <!-- Habits Tab -->
            <div id="habits" class="tab-content">
                <div class="habits-grid" id="habitsGrid">
                    <div class="add-habit" onclick="openHabitModal()">
                        <h3>+ Add New Habit</h3>
                        <p>Track your daily goals</p>
                    </div>
                </div>
            </div>

            <!-- Decisions Tab -->
            <div id="decisions" class="tab-content">
                <div class="decision-maker">
                    <h2>Decision Maker</h2>
                    <p>Can't decide? Let us pick for you!</p>
                    <div class="options-input" id="optionsInput">
                        <div class="option-item">
                            <input type="text" placeholder="Option 1">
                            <button class="remove-option" onclick="removeOption(this)">√ó</button>
                        </div>
                        <div class="option-item">
                            <input type="text" placeholder="Option 2">
                            <button class="remove-option" onclick="removeOption(this)">√ó</button>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="addOption()">+ Add Option</button>
                    <button class="btn btn-primary" onclick="makeDecision()">üé≤ Decide for Me!</button>
                    <div class="decision-result" id="decisionResult">
                        Enter your options and click "Decide for Me!"
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Habit Modal -->
    <div id="habitModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeHabitModal()">&times;</span>
            <h2>Add New Habit</h2>
            <div class="form-group">
                <label>Habit Name:</label>
                <input type="text" id="habitName" placeholder="e.g., Drink 8 glasses of water">
            </div>
            <div class="form-group">
                <label>Category:</label>
                <select id="habitCategory">
                    <option value="health">Health</option>
                    <option value="productivity">Productivity</option>
                    <option value="learning">Learning</option>
                    <option value="fitness">Fitness</option>
                    <option value="mindfulness">Mindfulness</option>
                </select>
            </div>
            <div class="form-group">
                <label>Target Days per Week:</label>
                <input type="number" id="habitTarget" min="1" max="7" value="7">
            </div>
            <button class="btn btn-primary" onclick="saveHabit()">Save Habit</button>
        </div>
    </div>

    <script>
        // Global state
        let timerInterval;
        let timerSeconds = 25 * 60;
        let isRunning = false;
        let notes = JSON.parse(localStorage.getItem('notes') || '[]');
        let habits = JSON.parse(localStorage.getItem('habits') || '[]');
        let currentNoteId = null;

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            if (tabName === 'notes') {
                renderNotes();
            } else if (tabName === 'habits') {
                renderHabits();
            }
        }

        // Pomodoro Timer Functions
        function updateTimerDisplay() {
            const minutes = Math.floor(timerSeconds / 60);
            const seconds = timerSeconds % 60;
            document.getElementById('timerDisplay').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            if (isRunning) return;
            isRunning = true;
            
            timerInterval = setInterval(() => {
                timerSeconds--;
                updateTimerDisplay();
                
                if (timerSeconds <= 0) {
                    pauseTimer();
                    alert('Time\'s up! Take a break!');
                    
                    // Log completed task if there is one
                    const task = document.getElementById('currentTask').value;
                    if (task.trim()) {
                        logCompletedTask(task);
                        document.getElementById('currentTask').value = '';
                    }
                }
            }, 1000);
        }

        function pauseTimer() {
            isRunning = false;
            clearInterval(timerInterval);
        }

        function resetTimer() {
            pauseTimer();
            timerSeconds = 25 * 60;
            updateTimerDisplay();
        }

        function setTimer(minutes) {
            pauseTimer();
            timerSeconds = minutes * 60;
            updateTimerDisplay();
        }

        function logCompletedTask(task) {
            const completedTasks = JSON.parse(localStorage.getItem('completedTasks') || '[]');
            completedTasks.push({
                task: task,
                completedAt: new Date().toISOString()
            });
            localStorage.setItem('completedTasks', JSON.stringify(completedTasks));
        }

        // Notes Functions
        function renderNotes() {
            const notesList = document.getElementById('notesList');
            notesList.innerHTML = '';
            
            notes.forEach(note => {
                const noteElement = document.createElement('div');
                noteElement.className = 'note-item';
                noteElement.onclick = () => selectNote(note.id);
                
                noteElement.innerHTML = `
                    <div style="font-weight: 500; margin-bottom: 5px;">${note.title || 'Untitled'}</div>
                    <div style="font-size: 12px; color: #666;">${note.category || 'No category'}</div>
                    <div style="font-size: 12px; color: #999; margin-top: 5px;">
                        ${new Date(note.updatedAt).toLocaleDateString()}
                    </div>
                `;
                
                if (note.id === currentNoteId) {
                    noteElement.classList.add('active');
                }
                
                notesList.appendChild(noteElement);
            });
        }

        function createNote() {
            const newNote = {
                id: Date.now(),
                title: '',
                content: '',
                category: '',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            
            notes.unshift(newNote);
            currentNoteId = newNote.id;
            
            document.getElementById('noteTitle').value = '';
            document.getElementById('noteContent').value = '';
            
            renderNotes();
            saveNotes();
        }

        function selectNote(noteId) {
            currentNoteId = noteId;
            const note = notes.find(n => n.id === noteId);
            
            if (note) {
                document.getElementById('noteTitle').value = note.title || '';
                document.getElementById('noteContent').value = note.content || '';
            }
            
            renderNotes();
        }

        function saveCurrentNote() {
            if (!currentNoteId) return;
            
            const note = notes.find(n => n.id === currentNoteId);
            if (note) {
                note.title = document.getElementById('noteTitle').value;
                note.content = document.getElementById('noteContent').value;
                note.updatedAt = new Date().toISOString();
                
                saveNotes();
                renderNotes();
            }
        }

        function saveNotes() {
            localStorage.setItem('notes', JSON.stringify(notes));
        }

        function searchNotes(query) {
            const filteredNotes = notes.filter(note => 
                note.title.toLowerCase().includes(query.toLowerCase()) ||
                note.content.toLowerCase().includes(query.toLowerCase())
            );
            // Render filtered notes (simplified for this demo)
            renderNotes();
        }

        function filterByCategory(category) {
            // Filter implementation (simplified for this demo)
            renderNotes();
        }

        // Habits Functions
        function renderHabits() {
            const habitsGrid = document.getElementById('habitsGrid');
            habitsGrid.innerHTML = `
                <div class="add-habit" onclick="openHabitModal()">
                    <h3>+ Add New Habit</h3>
                    <p>Track your daily goals</p>
                </div>
            `;
            
            habits.forEach(habit => {
                const habitElement = document.createElement('div');
                habitElement.className = 'habit-card';
                
                const completedToday = habit.completions && habit.completions.includes(new Date().toDateString());
                const streak = calculateStreak(habit);
                const weekProgress = calculateWeekProgress(habit);
                
                habitElement.innerHTML = `
                    <div class="habit-header">
                        <h3>${habit.name}</h3>
                        <div class="habit-streak">${streak} days</div>
                    </div>
                    <div class="habit-progress">
                        <div class="habit-progress-fill" style="width: ${weekProgress}%"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 12px; color: #666;">${habit.category}</span>
                        <button class="btn ${completedToday ? 'btn-secondary' : 'btn-primary'}" 
                                onclick="toggleHabit('${habit.id}')" 
                                style="padding: 8px 16px; font-size: 14px;">
                            ${completedToday ? '‚úì Done' : 'Mark Done'}
                        </button>
                    </div>
                `;
                
                habitsGrid.appendChild(habitElement);
            });
        }

        function openHabitModal() {
            document.getElementById('habitModal').style.display = 'block';
        }

        function closeHabitModal() {
            document.getElementById('habitModal').style.display = 'none';
            document.getElementById('habitName').value = '';
            document.getElementById('habitCategory').value = 'health';
            document.getElementById('habitTarget').value = '7';
        }

        function saveHabit() {
            const name = document.getElementById('habitName').value.trim();
            if (!name) return;
            
            const newHabit = {
                id: Date.now().toString(),
                name: name,
                category: document.getElementById('habitCategory').value,
                target: parseInt(document.getElementById('habitTarget').value),
                completions: [],
                createdAt: new Date().toISOString()
            };
            
            habits.push(newHabit);
            saveHabits();
            closeHabitModal();
            renderHabits();
        }

        function toggleHabit(habitId) {
            const habit = habits.find(h => h.id === habitId);
            if (!habit) return;
            
            const today = new Date().toDateString();
            if (!habit.completions) habit.completions = [];
            
            const index = habit.completions.indexOf(today);
            if (index > -1) {
                habit.completions.splice(index, 1);
            } else {
                habit.completions.push(today);
            }
            
            saveHabits();
            renderHabits();
        }

        function calculateStreak(habit) {
            if (!habit.completions || habit.completions.length === 0) return 0;
            
            let streak = 0;
            let currentDate = new Date();
            
            while (true) {
                const dateString = currentDate.toDateString();
                if (habit.completions.includes(dateString)) {
                    streak++;
                    currentDate.setDate(currentDate.getDate() - 1);
                } else {
                    break;
                }
            }
            
            return streak;
        }

        function calculateWeekProgress(habit) {
            if (!habit.completions) return 0;
            
            const weekStart = new Date();
            weekStart.setDate(weekStart.getDate() - weekStart.getDay());
            
            let completedThisWeek = 0;
            for (let i = 0; i < 7; i++) {
                const checkDate = new Date(weekStart);
                checkDate.setDate(weekStart.getDate() + i);
                if (habit.completions.includes(checkDate.toDateString())) {
                    completedThisWeek++;
                }
            }
            
            return (completedThisWeek / habit.target) * 100;
        }

        function saveHabits() {
            localStorage.setItem('habits', JSON.stringify(habits));
        }

        // Decision Maker Functions
        function addOption() {
            const optionsInput = document.getElementById('optionsInput');
            const optionCount = optionsInput.children.length + 1;
            
            const optionElement = document.createElement('div');
            optionElement.className = 'option-item';
            optionElement.innerHTML = `
                <input type="text" placeholder="Option ${optionCount}">
                <button class="remove-option" onclick="removeOption(this)">√ó</button>
            `;
            
            optionsInput.appendChild(optionElement);
        }

        function removeOption(button) {
            const optionsInput = document.getElementById('optionsInput');
            if (optionsInput.children.length > 2) {
                button.parentElement.remove();
            }
        }

        function makeDecision() {
            const optionsInput = document.getElementById('optionsInput');
            const options = Array.from(optionsInput.querySelectorAll('input'))
                .map(input => input.value.trim())
                .filter(value => value !== '');
            
            if (options.length === 0) {
                document.getElementById('decisionResult').textContent = 'Please add some options first!';
                return;
            }
            
            const randomIndex = Math.floor(Math.random() * options.length);
            const selectedOption = options[randomIndex];
            
            document.getElementById('decisionResult').innerHTML = `
                üéâ The decision is:<br><strong>${selectedOption}</strong>
            `;
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            updateTimerDisplay();
            renderNotes();
            renderHabits();
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('habitModal');
            if (event.target === modal) {
                closeHabitModal();
            }
        }
    </script>
</body>
</html>